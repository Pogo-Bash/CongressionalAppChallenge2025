<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Curriq - AI Study Assistant</title>
    <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; 
             script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://*.googleapis.com https://*.firebaseio.com https://apis.google.com; 
             font-src 'self' https://fonts.gstatic.com; 
             img-src 'self' data: https://*.googleusercontent.com; 
             media-src 'self' blob:; 
             connect-src 'self' https://cdn.jsdelivr.net https://*.googleapis.com https://classroom.googleapis.com https://*.firebaseio.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com; 
             style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
             frame-src 'self' https://*.firebaseapp.com https://accounts.google.com;"
  />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="./assets/components.css" type="text/css" rel="stylesheet" />
    <link href="./assets/dark-theme.css" type="text/css" rel="stylesheet" />
    <link href="./assets/light-theme.css" type="text/css" rel="stylesheet" />
  </head>
  <body class="dark-theme">
    <div class="custom-titlebar">
      <div class="drag-region"></div>
      <div class="window-controls">
        <button id="minimize">
          <svg width="10" height="1" viewBox="0 0 10 1">
            <path d="M0 0h10v1H0z" fill="currentColor" />
          </svg>
        </button>
        <button id="maximize">
          <svg width="10" height="10" viewBox="0 0 10 10">
            <path d="M0 0v10h10V0H0zm9 9H1V1h8v8z" fill="currentColor" />
          </svg>
        </button>
        <button id="close">
          <svg width="10" height="10" viewBox="0 0 10 10">
            <path d="M6.01 5l3.78-3.78a.71.71 0 1 0-1-1L5 3.99 1.22.22a.71.71 0 0 0-1 1L3.99 5 .22 8.78a.71.71 0 1 0 1 1L5 6.01l3.78 3.78a.71.71 0 1 0 1-1L6.01 5z" fill="currentColor" />
          </svg>
        </button>
      </div>
    </div>

    <div id="app">
      <header class="app-header">
        <div class="header-left">
          <img alt="logo" class="logo" src="./assets/electron.svg">
          <h1>Curriq - AI Study Assistant</h1>
        </div>
        <div class="header-right">
          <div id="user-section" class="user-section" style="display: none;">
            <img id="user-avatar" class="user-avatar" alt="User avatar" src="./assets/default-avatar.png">
            <div class="user-menu">
              <div id="user-name" class="user-name">User Name</div>
              <button id="logout-button" class="menu-item">
                <span class="material-icons">logout</span>
                Sign Out
              </button>
            </div>
          </div>
          <button id="login-button" class="primary-button">
            <span class="material-icons">login</span>
            Sign In
          </button>
          <button class="icon-button" id="theme-toggle" title="Toggle theme">
            <span class="material-icons">dark_mode</span>
          </button>
        </div>
      </header>
      
      <div class="app-container">
        <nav class="main-nav">
          <button class="nav-btn active" data-section="dashboard">
            <span class="material-icons">dashboard</span>
            Dashboard
          </button>
          <button class="nav-btn" data-section="focus">
            <span class="material-icons">visibility</span>
            Focus Tracking
          </button>
          <button class="nav-btn" data-section="curriculum">
            <span class="material-icons">school</span>
            Curriculum
          </button>
          <button class="nav-btn" data-section="settings">
            <span class="material-icons">settings</span>
            Settings
          </button>
        </nav>
        
        <main class="main-content">
          <!-- Dashboard Section -->
          <section id="dashboard-section" class="content-section active">
            <div class="dashboard-header">
              <h2>Study Dashboard</h2>
              <div class="dashboard-actions">
                <button class="icon-button" title="Refresh Data">
                  <span class="material-icons">refresh</span>
                </button>
              </div>
            </div>
            <div class="dashboard-grid">
              <div class="stat-card">
                <h3>Study Time</h3>
                <p class="stat-value">0h</p>
                <div class="trend positive">
                  <span class="material-icons">trending_up</span>
                  <span>5%</span>
                </div>
              </div>
              <div class="stat-card">
                <h3>Average Focus</h3>
                <p class="stat-value">0%</p>
                <div class="trend neutral">
                  <span class="material-icons">trending_flat</span>
                  <span>0%</span>
                </div>
              </div>
              <div class="stat-card">
                <h3>Modules Complete</h3>
                <p class="stat-value">0</p>
                <div class="trend positive">
                  <span class="material-icons">trending_up</span>
                  <span>2 new</span>
                </div>
              </div>
            </div>
            <div class="chart-container">
              <h3>Focus History</h3>
              <div id="focus-chart" class="chart"></div>
            </div>
            <div class="recent-sessions">
              <h3>Recent Sessions</h3>
              <div class="sessions-list">
                <p class="empty-state">No recent study sessions found. Start tracking your focus to see data here.</p>
              </div>
            </div>
          </section>
          
          <!-- Focus Tracking Section -->
          <section id="focus-section" class="content-section">
            <h2>Focus Tracking</h2>
            <div id="focus-tracking-container" class="focus-container">
              <!-- Focus tracking UI will be inserted here by JavaScript -->
            </div>
          </section>
          
          <!-- Curriculum Section -->
          <section id="curriculum-section" class="content-section">
            <h2>Your Curriculum</h2>
            <div id="curriculum-loading" class="loading-indicator">
              <span class="material-icons rotating">sync</span>
              <p>Loading your courses...</p>
            </div>
            <div id="curriculum-not-logged-in" class="curriculum-content">
              <p>Sign in with Google to connect to Google Classroom and generate personalized curricula.</p>
              <button id="curriculum-login-button" class="primary-button">
                <span class="material-icons">login</span>
                Sign In with Google
              </button>
            </div>
            <div id="curriculum-content" class="curriculum-content" style="display: none;">
              <div id="courses-container" class="courses-container">
                <!-- Courses will be added here dynamically -->
              </div>
            </div>
          </section>
          
          <!-- Settings Section -->
          <section id="settings-section" class="content-section">
            <h2>Settings</h2>
            <div class="settings-form">
              <div class="setting-group">
                <label for="camera-select">Camera</label>
                <select id="camera-select" class="select-input">
                  <option value="default">Default Camera</option>
                </select>
              </div>
              <div class="setting-group">
                <label>Focus Tracking</label>
                <label class="toggle">
                  <input type="checkbox" id="enable-focus" checked>
                  <span class="toggle-slider"></span>
                  Enable Focus Tracking
                </label>
              </div>
              <div class="setting-group">
                <label>Theme</label>
                <div class="theme-options">
                  <button class="theme-option active" data-theme="dark">Dark</button>
                  <button class="theme-option" data-theme="light">Light</button>
                  <button class="theme-option" data-theme="system">System</button>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
      
      <footer class="app-footer">
        <ul class="versions">
          <li class="electron-version"></li>
          <li class="chrome-version"></li>
          <li class="node-version"></li>
        </ul>
      </footer>
    </div>
    <script type="module" src="./src/renderer.js"></script>
  </body>
</html>